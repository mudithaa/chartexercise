{"version":3,"sources":["kendo.chat.js"],"names":["f","define","$","undefined","Component","Calendar","viewStyles","ChatView","kendo","window","Widget","ui","extend","proxy","DOT","SPACE","NS","MESSAGE_GROUP_TEMPLATE","template","SELF_MESSAGE_GROUP_TEMPLATE","TEXT_MESSAGE_TEMPLATE","TYPING_INDICATOR_TEMPLATE","SUGGESTED_ACTIONS_TEMPLATE","HERO_CARD_TEMPLATE","chat","Templates","Components","registerTemplate","templateName","getTemplate","registerComponent","componentName","component","getComponent","Class","init","options","view","this","element","destroy","fn","call","kendoCalendar","change","trigger","text","toString","value","type","wrapper","messageList","messageListContent","messageTime","messageGroup","message","only","first","middle","last","author","avatar","noAvatar","self","button","iconButton","buttonPrimary","scrollButtonIcon","scrollButtonIconLeft","scrollButtonIconRight","typingIndicator","bubble","suggestedActions","suggestedAction","cardWrapper","cardDeckScrollWrap","cardDeck","cardList","card","cardRich","cardBody","cardImage","cardTitle","cardSubtitle","cardActions","cardActionsVertical","cardAction","selected","_list","_lastSender","_attachEvents","_scrollable","events","_scrollDraggable","empty","off","list","styles","addClass","attr","appendTo","on","_listClick","_messageClick","_suggestedActionClick","_cardActionClick","_scrollButtonClick","e","currentTarget","scrollToLeft","find","length","scrollContainer","siblings","lastCard","cardWidth","outerWidth","scrollLeft","renderMessage","sender","timestamp","Date","bubbleElement","_renderTemplate","_renderBubble","id","renderSuggestedActions","_removeSuggestedActions","append","_scrollToBottom","renderAttachments","i","cardElement","_renderAttachmentWrapper","attachmentLayout","cardContainer","attachments","contentType","content","_removeTypingIndicator","renderComponent","componentType","indicatorMessage","indicatorGroup","indicator","parents","remove","layout","buttonLeft","buttonRight","_renderScrollButton","directionClass","targetElement","target","hasClass","_clearSelection","data","group","_getMessageGroup","_appendToGroup","templateOptions","_getMessageGroupTemplate","name","url","iconUrl","isOwnMessage","user","messageElement","children","childrenCount","filter","removeClass","selectedClass","scrollTop","prop","jQuery","amd","a1","a2","a3","keys","SEND_ICON","TOGGLE_ICON","messageBoxStyles","input","buttonFlat","buttonIcon","buttonSend","buttonToggle","iconAdd","hidden","ChatMessageBox","_wrapper","_typing","messages","placeholder","inputId","guid","html","toolbar","toggleable","buttons","_keydown","_input","_inputFocusout","_buttonClick","_toggleToolbar","currentValue","val","start","_triggerTyping","key","keyCode","ENTER","preventDefault","_sendMessage","args","ev","originalEvent","DATA_K_BUTTON_NAME","SCROLL_LEFT_NAME","SCROLL_RIGHT_NAME","VISIBLE","DEFAULT_ANIMATION","effects","duration","NO_ANIMATION","expand","show","collapse","hide","toolbarStyles","buttonList","scrollButton","scrollButtonLeft","scrollButtonRight","scrollButtonLeftIcon","scrollButtonRightIcon","ChatToolBar","toolbarOptions","buttonsDefined","_createButtonList","scrollable","buttonsWidth","width","_initScrolling","_setupAnimation","toggle","_onClick","that","_createButton","btnOptions","buttonElm","iconClass","prepend","closest","is","_scrolling","_scroll","class","_refreshScrollButtons","commandName","buttonWidth","maxScrollSize","scrollAmmount","currentScroll","currentScrollLeft","scrollValue","Math","min","max","isNaN","parseInt","animation","defaultExpandAnimation","defaultCollapseAnimation","reverse","_animationComplete","round","scrollWidth","clientWidth","skipAnimation","complete","kendoStop","kendoAnimate","chatStyles","canvas","viewWrapper","messageBoxWrapper","toolbarBoxWrapper","Chat","_events","_user","_view","_messageBox","_toolbar","notify","setOptions","_setEvents","messageBox","unbind","_resetToolbarButtons","getUser","height","uiElements","css","bind","postMessage","toggleToolbar","postArgs","from","plugin"],"mappings":"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","file":"kendo.chat.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('chat/view', [\n        'kendo.core',\n        'kendo.draganddrop'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var DOT = '.';\n        var SPACE = ' ';\n        var NS = '.kendoChat';\n        var MESSAGE_GROUP_TEMPLATE = kendo.template('<div #:text# class=\"#=styles.messageGroup# #= url ? \"\" : styles.noAvatar #\">' + '<p class=\"#=styles.author#\">#:text#</p>' + '# if (url) { #' + '<img src=\"#=url#\" alt=\"#:text#\" class=\"#=styles.avatar#\">' + '# } #' + '</div>');\n        var SELF_MESSAGE_GROUP_TEMPLATE = kendo.template('<div me class=\"#=styles.messageGroup# #=styles.self# #= url ? \"\" : styles.noAvatar #\">' + '# if (url) { #' + '<img src=\"#=url#\" alt=\"#:text#\" class=\"#=styles.avatar#\">' + '# } #' + '</div>');\n        var TEXT_MESSAGE_TEMPLATE = kendo.template('<div class=\"#=styles.message#\">' + '<time class=\"#=styles.messageTime#\">#= kendo.toString(kendo.parseDate(timestamp), \"HH:mm:ss\") #</time>' + '<div class=\"#=styles.bubble#\">#:text#</div>' + '</div>');\n        var TYPING_INDICATOR_TEMPLATE = kendo.template('<div class=\"#=styles.message#\">' + '<div class=\"#=styles.bubble#\">' + '<div class=\"#=styles.typingIndicator#\">' + '<span></span><span></span><span></span>' + '</div>' + '</div>' + '</div>');\n        var SUGGESTED_ACTIONS_TEMPLATE = kendo.template('<div class=\"#=styles.suggestedActions#\">' + '# for (var i = 0; i < suggestedActions.length; i++) { #' + '<span class=\"#=styles.suggestedAction#\" data-value=\"#:suggestedActions[i].value#\">#:suggestedActions[i].title#</span>' + '# } #' + '</div>');\n        var HERO_CARD_TEMPLATE = kendo.template('<div class=\"#=styles.card# #=styles.cardRich#\">' + '# if (typeof images !== \"undefined\" && images.length > 0) { #' + '<img src=\"#:images[0].url#\" alt=\"#:images[0].alt#\" class=\"#=styles.cardImage#\" />' + '# } #' + '<div class=\"#=styles.cardBody#\">' + '# if (typeof title !== \"undefined\") { #' + '<h5 class=\"#=styles.cardTitle#\">#:title#</h5>' + '# } #' + '# if (typeof subtitle !== \"undefined\") { #' + '<h6 class=\"#=styles.cardSubtitle#\">#:subtitle#</h6>' + '# } #' + '# if (typeof text !== \"undefined\") { #' + '<p>#:text#</p>' + '# } #' + '</div>' + '# if (typeof buttons !== \"undefined\" && buttons.length > 0) { #' + '<div class=\"#=styles.cardActions# #=styles.cardActionsVertical#\">' + '# for (var i = 0; i < buttons.length; i++) { #' + '<span class=\"#=styles.cardAction#\"><span class=\"#=styles.button# #=styles.buttonPrimary#\" data-value=\"#:buttons[i].value#\">#:buttons[i].title#</span></span>' + '# } #' + '</div>' + '# } #' + '</div>');\n        kendo.chat = {\n            Templates: {},\n            Components: {}\n        };\n        kendo.chat.registerTemplate = function (templateName, template) {\n            kendo.chat.Templates[templateName] = kendo.template(template);\n        };\n        kendo.chat.getTemplate = function (templateName) {\n            return kendo.chat.Templates[templateName] || TEXT_MESSAGE_TEMPLATE;\n        };\n        kendo.chat.registerTemplate('text', TEXT_MESSAGE_TEMPLATE);\n        kendo.chat.registerTemplate('message', TEXT_MESSAGE_TEMPLATE);\n        kendo.chat.registerTemplate('typing', TYPING_INDICATOR_TEMPLATE);\n        kendo.chat.registerTemplate('suggestedAction', SUGGESTED_ACTIONS_TEMPLATE);\n        kendo.chat.registerTemplate('heroCard', HERO_CARD_TEMPLATE);\n        kendo.chat.registerTemplate('application/vnd.microsoft.card.hero', HERO_CARD_TEMPLATE);\n        kendo.chat.registerComponent = function (componentName, component) {\n            kendo.chat.Components[componentName] = component;\n        };\n        kendo.chat.getComponent = function (componentName) {\n            return kendo.chat.Components[componentName] || null;\n        };\n        var Component = kendo.chat.Component = kendo.Class.extend({\n            init: function (options, view) {\n                this.element = $('<div></div>');\n                this.options = options;\n                this.view = view;\n            },\n            destroy: function () {\n                kendo.destroy(this.element);\n            }\n        });\n        var Calendar = Component.extend({\n            init: function (options, view) {\n                Component.fn.init.call(this, options, view);\n                this.element.kendoCalendar({\n                    change: function () {\n                        view.trigger('suggestedAction', {\n                            text: kendo.toString(this.value(), 'd'),\n                            type: 'message'\n                        });\n                    }\n                });\n            },\n            destroy: function () {\n            }\n        });\n        kendo.chat.registerComponent('calendar', Calendar);\n        var viewStyles = {\n            wrapper: 'k-widget k-chat',\n            messageList: 'k-avatars',\n            messageListContent: 'k-message-list-content',\n            messageTime: 'k-message-time',\n            messageGroup: 'k-message-group',\n            message: 'k-message',\n            only: 'k-only',\n            first: 'k-first',\n            middle: 'k-middle',\n            last: 'k-last',\n            author: 'k-author',\n            avatar: 'k-avatar',\n            noAvatar: 'k-no-avatar',\n            self: 'k-alt',\n            button: 'k-button',\n            iconButton: 'k-button-icon',\n            buttonPrimary: 'k-flat k-primary',\n            scrollButtonIcon: 'k-icon',\n            scrollButtonIconLeft: 'k-i-arrow-chevron-left',\n            scrollButtonIconRight: 'k-i-arrow-chevron-right',\n            typingIndicator: 'k-typing-indicator',\n            bubble: 'k-bubble',\n            suggestedActions: 'k-quick-replies',\n            suggestedAction: 'k-quick-reply',\n            cardWrapper: 'k-card-container',\n            cardDeckScrollWrap: 'k-card-deck-scrollwrap',\n            cardDeck: 'k-card-deck',\n            cardList: 'k-card-list',\n            card: 'k-card',\n            cardRich: 'k-card-type-rich',\n            cardBody: 'k-card-body',\n            cardImage: 'k-card-image',\n            cardTitle: 'k-card-title',\n            cardSubtitle: 'k-card-subtitle',\n            cardActions: 'k-card-actions',\n            cardActionsVertical: 'k-card-actions-vertical',\n            cardAction: 'k-card-action',\n            selected: 'k-state-selected'\n        };\n        var ChatView = kendo.chat.ChatView = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._list();\n                this._lastSender = null;\n                this._attachEvents();\n                this._scrollable();\n            },\n            events: [],\n            options: {},\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                if (this._scrollDraggable) {\n                    this._scrollDraggable.destroy();\n                }\n                this.element.empty();\n                this.element.off(NS);\n                this.list = null;\n                this._lastSender = null;\n            },\n            _list: function () {\n                var viewStyles = ChatView.styles;\n                this.element.addClass(viewStyles.messageList).attr('aria-live', 'polite');\n                this.list = $('<div>').addClass(viewStyles.messageListContent).appendTo(this.element);\n            },\n            _attachEvents: function () {\n                var styles = ChatView.styles;\n                this.element.on('click' + NS, proxy(this._listClick, this)).on('click' + NS, DOT + styles.message, proxy(this._messageClick, this)).on('click' + NS, DOT + styles.suggestedAction, proxy(this._suggestedActionClick, this)).on('click' + NS, DOT + styles.cardAction + SPACE + DOT + styles.button, proxy(this._cardActionClick, this));\n            },\n            _scrollable: function () {\n                var viewStyles = ChatView.styles;\n                this.element.on('click' + NS, DOT + viewStyles.cardDeckScrollWrap + SPACE + DOT + viewStyles.button, proxy(this._scrollButtonClick, this));\n            },\n            _scrollButtonClick: function (e) {\n                var viewStyles = ChatView.styles;\n                var button = $(e.currentTarget);\n                var scrollToLeft = button.find(DOT + viewStyles.scrollButtonIconLeft).length !== 0;\n                var scrollContainer = button.siblings(DOT + viewStyles.cardDeck);\n                var lastCard = scrollContainer.find(DOT + viewStyles.card).last();\n                var cardWidth = lastCard.outerWidth(true);\n                if (scrollToLeft) {\n                    scrollContainer.scrollLeft(scrollContainer.scrollLeft() - cardWidth);\n                } else {\n                    scrollContainer.scrollLeft(scrollContainer.scrollLeft() + cardWidth);\n                }\n            },\n            getTemplate: function (templateName) {\n                return kendo.chat.getTemplate(templateName);\n            },\n            getComponent: function (type) {\n                return kendo.chat.getComponent(type);\n            },\n            renderMessage: function (message, sender) {\n                if (!message.timestamp) {\n                    message.timestamp = new Date();\n                }\n                var bubbleElement = this._renderTemplate(message.type, message);\n                this._renderBubble(bubbleElement, sender);\n                if (message.type !== 'typing') {\n                    this._lastSender = sender.id;\n                }\n            },\n            renderSuggestedActions: function (suggestedActions) {\n                this._removeSuggestedActions();\n                var element = this._renderTemplate('suggestedAction', { suggestedActions: suggestedActions });\n                this.list.append(element);\n                this._scrollToBottom();\n            },\n            renderAttachments: function (options) {\n                var wrapper = this._renderAttachmentWrapper(options.attachmentLayout);\n                var cardContainer = options.attachmentLayout === 'carousel' ? wrapper.find(DOT + ChatView.styles.cardDeck) : wrapper;\n                var attachments = options.attachments;\n                if (!attachments.length) {\n                    return;\n                }\n                for (var i = 0; i < attachments.length; i++) {\n                    var cardElement = this._renderTemplate(attachments[i].contentType, attachments[i].content);\n                    cardContainer.append(cardElement);\n                }\n                this._removeSuggestedActions();\n                this._removeTypingIndicator();\n                this.list.append(wrapper);\n                this._lastSender = null;\n            },\n            renderComponent: function (type) {\n                var componentType = this.getComponent(type);\n                var component = new componentType({}, this);\n                this.list.append(component.element);\n                this._scrollToBottom();\n            },\n            _removeTypingIndicator: function () {\n                var viewStyles = ChatView.styles;\n                var indicator = this.list.find(DOT + viewStyles.typingIndicator);\n                if (indicator.length) {\n                    var indicatorMessage = indicator.parents(DOT + viewStyles.message).first();\n                    var indicatorGroup = indicator.parents(DOT + viewStyles.messageGroup).first();\n                    indicatorMessage.remove();\n                    if (!indicatorGroup.find(DOT + viewStyles.message).length && !indicatorGroup.find(DOT + viewStyles.cardDeck).length && !indicatorGroup.find(DOT + viewStyles.cardWrapper).length) {\n                        indicatorGroup.remove();\n                    }\n                }\n            },\n            _renderAttachmentWrapper: function (layout) {\n                var viewStyles = ChatView.styles;\n                var wrapper = $('<div>');\n                if (layout === 'carousel') {\n                    wrapper.addClass(viewStyles.cardDeckScrollWrap);\n                    var buttonLeft = this._renderScrollButton(viewStyles.scrollButtonIconLeft);\n                    wrapper.append(buttonLeft);\n                    wrapper.append($('<div>').addClass(viewStyles.cardDeck));\n                    var buttonRight = this._renderScrollButton(viewStyles.scrollButtonIconRight);\n                    wrapper.append(buttonRight);\n                } else {\n                    wrapper.addClass(viewStyles.cardList);\n                }\n                return wrapper;\n            },\n            _renderScrollButton: function (directionClass) {\n                var viewStyles = ChatView.styles;\n                return $('<button>').addClass(viewStyles.button).addClass(viewStyles.iconButton).append($('<span>').addClass(viewStyles.scrollButtonIcon).addClass(directionClass));\n            },\n            _removeSuggestedActions: function () {\n                this.list.find(DOT + ChatView.styles.suggestedActions).remove();\n            },\n            _listClick: function (e) {\n                var styles = ChatView.styles;\n                var targetElement = $(e.target);\n                if (targetElement.hasClass(styles.message) || targetElement.parents(DOT + styles.message).length) {\n                    return;\n                }\n                this._clearSelection();\n            },\n            _messageClick: function (e) {\n                this._clearSelection();\n                $(e.currentTarget).addClass(ChatView.styles.selected);\n            },\n            _suggestedActionClick: function (e) {\n                var text = $(e.target).data('value') || '';\n                this.trigger('actionClick', { text: text });\n                this._removeSuggestedActions();\n            },\n            _cardActionClick: function (e) {\n                var text = $(e.target).data('value') || '';\n                this.trigger('actionClick', { text: text });\n            },\n            _renderBubble: function (bubbleElement, sender) {\n                this._removeSuggestedActions();\n                this._removeTypingIndicator();\n                var group = this._getMessageGroup(sender);\n                this._appendToGroup(group, bubbleElement);\n                this._scrollToBottom();\n            },\n            _renderTemplate: function (type, options) {\n                var componentType = this.getComponent(type);\n                var element;\n                if (componentType) {\n                    var component = new componentType(options, this);\n                    element = component.element;\n                } else {\n                    var template = this.getTemplate(type);\n                    var templateOptions = extend(true, {}, options, { styles: ChatView.styles });\n                    element = $(template(templateOptions));\n                }\n                return element;\n            },\n            _getMessageGroup: function (sender) {\n                var viewStyles = ChatView.styles;\n                var template = this._getMessageGroupTemplate(sender);\n                var group;\n                if (sender.id === this._lastSender && this._lastSender !== null) {\n                    group = this.list.find(DOT + viewStyles.messageGroup).last();\n                    if (group.length) {\n                        return group;\n                    }\n                }\n                return $(template({\n                    text: sender.name,\n                    url: sender.iconUrl,\n                    styles: viewStyles\n                })).appendTo(this.list);\n            },\n            _getMessageGroupTemplate: function (sender) {\n                var isOwnMessage = sender.id === this.options.user.id;\n                var template = isOwnMessage ? SELF_MESSAGE_GROUP_TEMPLATE : MESSAGE_GROUP_TEMPLATE;\n                return template;\n            },\n            _appendToGroup: function (group, messageElement) {\n                var viewStyles = ChatView.styles;\n                var children = group.find(DOT + viewStyles.message);\n                var childrenCount = children.length;\n                messageElement.addClass(childrenCount === 0 ? viewStyles.only : viewStyles.last);\n                children.filter(DOT + viewStyles.only).removeClass(viewStyles.only).addClass(viewStyles.first);\n                children.filter(DOT + viewStyles.last).removeClass(viewStyles.last).addClass(viewStyles.middle);\n                group.append(messageElement);\n            },\n            _clearSelection: function () {\n                var selectedClass = ChatView.styles.selected;\n                this.element.find(DOT + selectedClass).removeClass(selectedClass);\n            },\n            _scrollToBottom: function () {\n                this.element.scrollTop(this.element.prop('scrollHeight'));\n            }\n        });\n        extend(true, ChatView, { styles: viewStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('chat/messageBox', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var DOT = '.';\n        var NS = '.kendoChat';\n        var keys = kendo.keys;\n        var SEND_ICON = '<svg version=\"1.1\" ixmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 16 16\" xml:space=\"preserve\"><path d=\"M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z\"/></svg>';\n        var TOGGLE_ICON = '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\"><g>   <path d=\"M128,240c0-26.4-21.6-48-48-48s-48,21.6-48,48s21.6,48,48,48S128,266.4,128,240z\"/>   <path d=\"M192,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C213.6,192,192,213.6,192,240z\"/>   <path d=\"M352,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C373.6,192,352,213.6,352,240z\"/></g></svg>';\n        var messageBoxStyles = {\n            input: 'k-input',\n            button: 'k-button',\n            buttonFlat: 'k-flat',\n            buttonIcon: 'k-button-icon',\n            buttonSend: 'k-button-send',\n            buttonToggle: 'k-button-toggle',\n            iconAdd: 'k-icon k-i-add',\n            hidden: 'k-hidden'\n        };\n        var ChatMessageBox = kendo.chat.ChatMessageBox = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._wrapper();\n                this._attachEvents();\n                this._typing = false;\n            },\n            events: [],\n            options: { messages: { placeholder: 'Type a message...' } },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                if (this.input) {\n                    this.input.off(NS);\n                    this.input.remove();\n                    this.input = null;\n                }\n                this.element.off(NS);\n                this.element.empty();\n            },\n            _wrapper: function () {\n                var styles = ChatMessageBox.styles;\n                var options = this.options;\n                var messages = options.messages;\n                var inputId = 'inputId_' + kendo.guid();\n                $('<label>').addClass(styles.hidden).html(messages.placeholder).attr('for', inputId).appendTo(this.element);\n                this.input = $('<input type=\\'text\\'>').addClass(styles.input).attr('id', inputId).attr('placeholder', messages.placeholder).appendTo(this.element);\n                if (options.toolbar && options.toolbar.toggleable && options.toolbar.buttons) {\n                    $('<button>').addClass(styles.button).addClass(styles.buttonFlat).addClass(styles.buttonIcon).addClass(styles.buttonToggle).attr('type', 'button').append($(TOGGLE_ICON)).appendTo(this.element);\n                }\n                $('<button>').addClass(styles.button).addClass(styles.buttonFlat).addClass(styles.buttonIcon).addClass(styles.buttonSend).append($(SEND_ICON)).appendTo(this.element);\n            },\n            _attachEvents: function () {\n                var styles = ChatMessageBox.styles;\n                this.input.on('keydown' + NS, proxy(this._keydown, this)).on('input' + NS, proxy(this._input, this)).on('focusout' + NS, proxy(this._inputFocusout, this));\n                this.element.on('click' + NS, DOT + styles.buttonSend, proxy(this._buttonClick, this));\n                this.element.on('click' + NS, DOT + styles.buttonToggle, proxy(this._toggleToolbar, this));\n            },\n            _input: function () {\n                var currentValue = this.input.val();\n                var start = currentValue.length > 0;\n                this._triggerTyping(start);\n            },\n            _keydown: function (e) {\n                var key = e.keyCode;\n                switch (key) {\n                case keys.ENTER:\n                    e.preventDefault();\n                    this._sendMessage();\n                    break;\n                }\n            },\n            _buttonClick: function (e) {\n                e.preventDefault();\n                this._sendMessage();\n            },\n            _sendMessage: function () {\n                var value = this.input.val();\n                if (!value.length) {\n                    return;\n                }\n                this._triggerTyping(false);\n                var args = { text: value };\n                this.trigger('sendMessage', args);\n                this.input.val('');\n            },\n            _inputFocusout: function () {\n                this._triggerTyping(false);\n            },\n            _triggerTyping: function (start) {\n                if (start) {\n                    if (!this._typing) {\n                        this.trigger('typingStart', {});\n                        this._typing = true;\n                    }\n                } else {\n                    if (this._typing) {\n                        this.trigger('typingEnd', {});\n                        this._typing = false;\n                    }\n                }\n            },\n            _toggleToolbar: function (ev) {\n                this.trigger('toggleToolbar', { originalEvent: ev });\n            }\n        });\n        extend(true, ChatMessageBox, { styles: messageBoxStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('chat/toolbar', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var DOT = '.';\n        var NS = '.kendoChat';\n        var DATA_K_BUTTON_NAME = 'kButtonName';\n        var SCROLL_LEFT_NAME = 'chatToolbarScrollLeft';\n        var SCROLL_RIGHT_NAME = 'chatToolbarScrollRight';\n        var VISIBLE = ':visible';\n        var DEFAULT_ANIMATION = {\n            effects: 'expand:vertical',\n            duration: 200\n        };\n        var NO_ANIMATION = {\n            expand: { show: true },\n            collapse: { hide: true }\n        };\n        var toolbarStyles = {\n            button: 'k-button',\n            buttonFlat: 'k-flat',\n            buttonList: 'k-button-list',\n            scrollButton: 'k-scroll-button',\n            scrollButtonLeft: 'k-scroll-button-left',\n            scrollButtonRight: 'k-scroll-button-right',\n            scrollButtonLeftIcon: 'k-icon k-i-arrow-chevron-left',\n            scrollButtonRightIcon: 'k-icon k-i-arrow-chevron-right',\n            buttonIcon: 'k-button-icon'\n        };\n        var ChatToolBar = kendo.chat.ChatToolBar = Widget.extend({\n            init: function (element, options) {\n                options = extend({}, options, { name: 'ChatToolbar' });\n                var toolbarOptions = options.toolbar;\n                var buttonsDefined = toolbarOptions.buttons && toolbarOptions.buttons.length;\n                Widget.fn.init.call(this, element, options);\n                if (buttonsDefined) {\n                    this._createButtonList();\n                }\n                if (buttonsDefined && toolbarOptions.scrollable && this.buttonsWidth() > this.element.width()) {\n                    this._initScrolling();\n                }\n                this._setupAnimation();\n                if (toolbarOptions.toggleable) {\n                    this.toggle(true);\n                }\n                this.element.on('click' + NS, proxy(this._onClick, this));\n            },\n            events: ['click'],\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                this.element.off(NS);\n                this.element.empty();\n            },\n            _createButtonList: function () {\n                var that = this;\n                var styles = ChatToolBar.styles;\n                var buttons = that.options.toolbar.buttons;\n                var buttonList = $('<div class=\\'' + styles.buttonList + '\\'></div>');\n                for (var i = 0; i < buttons.length; i++) {\n                    var button = that._createButton(buttons[i]);\n                    buttonList.append(button);\n                }\n                buttonList.appendTo(this.element);\n                this.buttonList = buttonList;\n            },\n            _createButton: function (btnOptions) {\n                var styles = ChatToolBar.styles;\n                var buttonElm = $('<button>');\n                if (typeof btnOptions === 'string') {\n                    btnOptions = { name: btnOptions };\n                }\n                buttonElm.attr(btnOptions.attr || {}).attr('title', btnOptions.text).attr('type', 'button').addClass(btnOptions.name).data(DATA_K_BUTTON_NAME, btnOptions.name).addClass(styles.button);\n                if (btnOptions.iconClass) {\n                    buttonElm.addClass(styles.buttonIcon);\n                    buttonElm.prepend('<span class=\\'' + btnOptions.iconClass + '\\'></span>');\n                }\n                return buttonElm;\n            },\n            _onClick: function (ev) {\n                var styles = ChatToolBar.styles;\n                var target = $(ev.target).closest(DOT + styles.button);\n                if (target.is(DOT + styles.scrollButton) && !this._scrolling) {\n                    this._scroll(target.data(DATA_K_BUTTON_NAME));\n                }\n                if (target.data(DATA_K_BUTTON_NAME)) {\n                    this.trigger('click', {\n                        button: target[0],\n                        name: target.data(DATA_K_BUTTON_NAME),\n                        originalEvent: ev\n                    });\n                }\n            },\n            _initScrolling: function () {\n                var styles = ChatToolBar.styles;\n                this.scrollButtonLeft = this._createButton({\n                    name: SCROLL_LEFT_NAME,\n                    iconClass: styles.scrollButtonLeftIcon,\n                    attr: { 'class': styles.scrollButton + ' ' + styles.scrollButtonLeft }\n                });\n                this.scrollButtonRight = this._createButton({\n                    name: SCROLL_RIGHT_NAME,\n                    iconClass: styles.scrollButtonRightIcon,\n                    attr: { 'class': styles.scrollButton + ' ' + styles.scrollButtonRight }\n                });\n                this.element.prepend(this.scrollButtonLeft);\n                this.element.append(this.scrollButtonRight);\n                this._refreshScrollButtons();\n                this.element.on('keydown' + NS, proxy(this._refreshScrollButtons, this));\n            },\n            _scroll: function (commandName) {\n                var that = this;\n                var buttonWidth = that.buttonWidth();\n                var maxScrollSize = this.maxScrollSize();\n                var scrollAmmount = commandName === SCROLL_LEFT_NAME ? buttonWidth * -1 : buttonWidth;\n                var currentScroll = this.currentScrollLeft();\n                var scrollValue = currentScroll + scrollAmmount;\n                scrollValue = Math.min(Math.max(scrollValue, 0), maxScrollSize);\n                if (commandName !== SCROLL_LEFT_NAME && commandName !== SCROLL_RIGHT_NAME) {\n                    return;\n                }\n                that.buttonList.scrollLeft(scrollValue);\n                that._refreshScrollButtons(scrollValue);\n            },\n            _refreshScrollButtons: function (value) {\n                var maxScrollSize = this.maxScrollSize();\n                var currentScrollLeft = value === undefined || isNaN(parseInt(value, 10)) ? this.currentScrollLeft() : value;\n                if (!this.scrollButtonLeft && !this.scrollButtonRight) {\n                    return;\n                }\n                this.scrollButtonLeft.toggle(currentScrollLeft !== 0);\n                this.scrollButtonRight.toggle(currentScrollLeft !== maxScrollSize);\n            },\n            _setupAnimation: function () {\n                var animation = this.options.toolbar.animation;\n                var defaultExpandAnimation = extend({}, DEFAULT_ANIMATION);\n                var defaultCollapseAnimation = extend({\n                    reverse: true,\n                    hide: true\n                }, DEFAULT_ANIMATION);\n                if (animation === false) {\n                    animation = extend(true, {}, NO_ANIMATION);\n                } else {\n                    animation = extend(true, {\n                        expand: defaultExpandAnimation,\n                        collapse: defaultCollapseAnimation\n                    }, animation);\n                }\n                this.options.toolbar.animation = animation;\n            },\n            _animationComplete: function () {\n                this._refreshScrollButtons();\n            },\n            currentScrollLeft: function () {\n                return Math.round(this.buttonList.scrollLeft());\n            },\n            maxScrollSize: function () {\n                return Math.round(this.buttonList[0].scrollWidth - this.buttonList[0].clientWidth);\n            },\n            buttons: function () {\n                var styles = ChatToolBar.styles;\n                return this.buttonList ? this.buttonList.children(DOT + styles.button) : null;\n            },\n            buttonWidth: function () {\n                return Math.round(this.buttons().last().outerWidth(true));\n            },\n            buttonsWidth: function () {\n                var width = 0;\n                if (this.buttons()) {\n                    width = this.buttonWidth() * this.buttons().length;\n                }\n                return width;\n            },\n            toggle: function (skipAnimation) {\n                var animation = this.options.toolbar.animation;\n                if (skipAnimation) {\n                    animation = extend(true, {}, NO_ANIMATION);\n                }\n                animation.expand.complete = proxy(this._animationComplete, this);\n                animation.collapse.complete = proxy(this._animationComplete, this);\n                if (this.element.is(VISIBLE)) {\n                    this.element.kendoStop().kendoAnimate(animation.collapse);\n                } else {\n                    this.element.kendoStop().kendoAnimate(animation.expand);\n                }\n            }\n        });\n        extend(true, ChatToolBar, { styles: toolbarStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.chat', [\n        'chat/view',\n        'chat/messageBox',\n        'chat/toolbar'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'chat',\n        name: 'Chat',\n        category: 'web',\n        description: 'The Chat component.',\n        depends: [\n            'core',\n            'draganddrop'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var DOT = '.';\n        var chatStyles = {\n            wrapper: 'k-widget k-chat',\n            canvas: 'k-chat-canvas',\n            viewWrapper: 'k-message-list',\n            messageBoxWrapper: 'k-message-box',\n            toolbarBoxWrapper: 'k-toolbar-box'\n        };\n        var Chat = Widget.extend({\n            init: function (element, options, events) {\n                Widget.fn.init.call(this, element, options);\n                if (events) {\n                    this._events = events;\n                }\n                this._user();\n                this._wrapper();\n                this._view();\n                this._messageBox();\n                if (options && options.toolbar && options.toolbar.buttons) {\n                    this._toolbar();\n                }\n                kendo.notify(this);\n            },\n            events: [\n                'typingStart',\n                'typingEnd',\n                'post',\n                'sendMessage',\n                'actionClick',\n                'toolClick'\n            ],\n            options: {\n                user: {\n                    name: 'User',\n                    iconUrl: ''\n                },\n                name: 'Chat',\n                messages: { placeholder: 'Type a message...' },\n                toolbar: false\n            },\n            setOptions: function (options) {\n                this._setEvents(options);\n                $.extend(true, this.options, options);\n                if (this.toolbar && 'toolbar' in options) {\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n                if (this.messageBox) {\n                    this.messageBox.unbind();\n                    this.messageBox.destroy();\n                    this.messageBox = null;\n                }\n                this._messageBox();\n                if ('toolbar' in options) {\n                    this._resetToolbarButtons(options);\n                    this._toolbar();\n                }\n            },\n            _resetToolbarButtons: function (options) {\n                var toolbarBoxWrapper = this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper);\n                if (!toolbarBoxWrapper.is(':visible')) {\n                    toolbarBoxWrapper.show();\n                }\n                if ('buttons' in options.toolbar) {\n                    this.options.toolbar.buttons = options.toolbar.buttons;\n                }\n            },\n            destroy: function () {\n                if (this.view) {\n                    this.view.unbind();\n                    this.view.destroy();\n                    this.view = null;\n                }\n                if (this.messageBox) {\n                    this.messageBox.unbind();\n                    this.messageBox.destroy();\n                    this.messageBox = null;\n                }\n                if (this.toolbar) {\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n                Widget.fn.destroy.call(this);\n            },\n            _user: function () {\n                this.options.user.id = kendo.guid();\n            },\n            getUser: function () {\n                return extend(true, {}, this.options.user);\n            },\n            _wrapper: function () {\n                var chatStyles = Chat.styles;\n                var options = this.options;\n                var height = options.height;\n                var width = options.width;\n                var uiElements = '<div class=\\'' + chatStyles.viewWrapper + '\\'></div>' + '<div class=\\'' + chatStyles.messageBoxWrapper + '\\'></div>' + '<div class=\\'' + chatStyles.toolbarBoxWrapper + '\\' role=\\'toolbar\\' style=\\'display:none;\\'></div>';\n                this.wrapper = this.element.addClass(chatStyles.wrapper).append(uiElements);\n                if (options.toolbar && options.toolbar.buttons && options.toolbar.buttons.length) {\n                    this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper).show();\n                }\n                if (height) {\n                    this.wrapper.height(height);\n                }\n                if (width) {\n                    this.wrapper.css('max-width', width);\n                }\n            },\n            _view: function () {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, this.options);\n                var element = this.wrapper.find(DOT + chatStyles.viewWrapper + '');\n                this.view = new kendo.chat.ChatView(element, options);\n                this.view.bind('actionClick', function (args) {\n                    that.trigger('actionClick', args);\n                    that.postMessage(args.text);\n                });\n            },\n            _messageBox: function () {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, this.options);\n                var element = this.wrapper.find(DOT + chatStyles.messageBoxWrapper + '');\n                this.messageBox = new kendo.chat.ChatMessageBox(element, options);\n                this.messageBox.bind('typingStart', function (args) {\n                    that.trigger('typingStart', args);\n                }).bind('typingEnd', function (args) {\n                    that.trigger('typingEnd', args);\n                }).bind('sendMessage', function (args) {\n                    that.trigger('sendMessage', args);\n                    that.postMessage(args.text);\n                }).bind('toggleToolbar', function () {\n                    that.toggleToolbar();\n                });\n            },\n            _toolbar: function () {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, that.options);\n                var element = that.wrapper.find(DOT + chatStyles.toolbarBoxWrapper + '');\n                if (options.toolbar.scrollable === undefined) {\n                    this.options.toolbar.scrollable = options.toolbar.scrollable = true;\n                }\n                if (options.toolbar.toggleable === undefined) {\n                    this.options.toolbar.toggleable = options.toolbar.toggleable = false;\n                }\n                that.toolbar = new kendo.chat.ChatToolBar(element, options);\n                that.toolbar.bind('click', function (ev) {\n                    that.trigger('toolClick', {\n                        sender: that,\n                        name: ev.name,\n                        button: ev.button,\n                        messageBox: that.messageBox.input[0],\n                        originalEvent: ev.originalEvent\n                    });\n                });\n            },\n            postMessage: function (message) {\n                var postArgs = extend(true, {}, {\n                    text: message,\n                    type: 'message',\n                    timestamp: new Date(),\n                    from: this.getUser()\n                });\n                this.trigger('post', postArgs);\n                this.renderMessage(postArgs, postArgs.from);\n            },\n            renderMessage: function (message, sender) {\n                this.view.renderMessage(message, sender);\n            },\n            renderSuggestedActions: function (suggestedActions) {\n                this.view.renderSuggestedActions(suggestedActions);\n            },\n            renderAttachments: function (options, sender) {\n                this.view.renderAttachments(options, sender);\n            },\n            toggleToolbar: function (skipAnimation) {\n                this.toolbar.toggle(skipAnimation);\n            }\n        });\n        kendo.ui.plugin(Chat);\n        extend(true, Chat, { styles: chatStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}